{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { DatePipe } from '@angular/common';\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nlet EventosFormComponent = class EventosFormComponent {\n  constructor(fb, eventoService, router, activatedRoute, datePipe) {\n    this.fb = fb;\n    this.eventoService = eventoService;\n    this.router = router;\n    this.activatedRoute = activatedRoute;\n    this.datePipe = datePipe;\n    this.modoVerDetalle = false; // Set this based on your logic\n  }\n\n  ngOnInit() {\n    this.formGroup = this.fb.group({\n      nombre: ['', Validators.required],\n      descripcion: ['', Validators.required],\n      ubicacion: ['', Validators.required],\n      informacionContacto: ['', Validators.required],\n      fechaInicio: ['', Validators.required],\n      fechaFin: ['', Validators.required],\n      estado: {\n        value: 'Activo',\n        disabled: this.modoVerDetalle\n      }\n    });\n    this.activatedRoute.params.subscribe(params => {\n      if (params['id'] === undefined) {\n        return;\n      }\n      this.modoVerDetalle = true;\n      this.eventoId = params['id'];\n      this.eventoService.getEvento(this.eventoId.toString()).subscribe(evento => this.cargarFormulario(evento), error => console.error(error));\n    });\n    if (this.modoVerDetalle) {\n      this.formGroup.disable();\n    }\n  }\n  cargarFormulario(evento) {\n    const format = 'yyyy-MM-dd';\n    this.formGroup.patchValue({\n      nombre: evento.nombre,\n      descripcion: evento.descripcion,\n      ubicacion: evento.ubicacion,\n      informacionContacto: evento.informacionContacto,\n      fechaInicio: this.datePipe.transform(evento.fechaInicio, format),\n      fechaFin: this.datePipe.transform(evento.fechaFin, format),\n      estado: evento.estado\n    });\n  }\n  save() {\n    if (this.modoVerDetalle) return;\n    let evento = Object.assign({}, this.formGroup.value);\n    console.table(evento);\n    this.eventoService.createEvento(evento).subscribe(evento => this.onSaveSuccess(), error => console.error(error));\n  }\n  onSaveSuccess() {\n    this.router.navigate(['/eventos']);\n  }\n};\nEventosFormComponent = __decorate([Component({\n  selector: 'app-eventos-form',\n  templateUrl: './eventos-form.component.html',\n  styleUrls: ['./eventos-form.component.css'],\n  providers: [DatePipe]\n})], EventosFormComponent);\nexport { EventosFormComponent };","map":{"version":3,"mappings":"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","names":["DatePipe","Component","Validators","EventosFormComponent","constructor","fb","eventoService","router","activatedRoute","datePipe","ngOnInit","formGroup","group","nombre","required","descripcion","ubicacion","informacionContacto","fechaInicio","fechaFin","estado","value","disabled","modoVerDetalle","params","subscribe","undefined","eventoId","getEvento","toString","evento","cargarFormulario","error","console","disable","format","patchValue","transform","save","Object","assign","table","createEvento","onSaveSuccess","navigate","selector","templateUrl","styleUrls","providers"],"sourceRoot":"","sources":["C:\\Users\\Diego\\Desktop\\ParcialFinalTaller\\parcialTallerFinal\\Examen4\\ClientApp\\src\\app\\eventos\\eventos-form\\eventos-form.component.ts"],"sourcesContent":["import { DatePipe } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { IEvento } from '../Evento';\nimport { EventosService } from '../eventos.service';\nimport { ActivatedRoute, Router } from '@angular/router';\n\n@Component({\n  selector: 'app-eventos-form',\n  templateUrl: './eventos-form.component.html',\n  styleUrls: ['./eventos-form.component.css'],\n  providers: [DatePipe]\n})\nexport class EventosFormComponent implements OnInit {\n  formGroup!: FormGroup;\n  modoVerDetalle: boolean = false; // Set this based on your logic\n  eventoId! : number;\n\n  constructor(private fb: FormBuilder,\n              private eventoService: EventosService,\n              private router: Router,\n              private activatedRoute: ActivatedRoute,\n              private datePipe: DatePipe,) {}\n\n  ngOnInit() {\n    this.formGroup = this.fb.group({\n      nombre: ['', Validators.required],\n      descripcion: ['', Validators.required],\n      ubicacion: ['', Validators.required],\n      informacionContacto: ['', Validators.required],\n      fechaInicio: ['', Validators.required],\n      fechaFin: ['', Validators.required],\n      estado: { value: 'Activo', disabled: this.modoVerDetalle }\n    });\n\n    \n    this.activatedRoute.params.subscribe(params => {\n      if (params['id'] === undefined) {\n        return;\n      }\n      this.modoVerDetalle = true;\n\n      this.eventoId = params['id'];\n      this.eventoService.getEvento(this.eventoId.toString())\n        .subscribe(evento => this.cargarFormulario(evento),\n                   error => console.error(error));\n    });\n\n    if (this.modoVerDetalle) {\n      this.formGroup.disable();\n    }\n    \n  }\n\n  cargarFormulario(evento : IEvento){\n    const format = 'yyyy-MM-dd';\n\n    this.formGroup.patchValue({\n      nombre: evento.nombre,\n      descripcion: evento.descripcion,\n      ubicacion: evento.ubicacion,\n      informacionContacto: evento.informacionContacto,\n      fechaInicio: this.datePipe.transform(evento.fechaInicio, format),\n      fechaFin: this.datePipe.transform(evento.fechaFin, format),\n      estado: evento.estado\n    })\n  }\n\n  save() {\n    if (this.modoVerDetalle) return;\n\n    let evento: IEvento = Object.assign({}, this.formGroup.value);\n    console.table(evento);\n\n    this.eventoService.createEvento(evento)\n      .subscribe(evento => this.onSaveSuccess(),\n                 error => console.error(error));\n  }\n\n  onSaveSuccess() {\n    this.router.navigate(['/eventos']);\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}